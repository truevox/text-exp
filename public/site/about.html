<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Meet PuffPuffPaste — a magical Chrome extension that expands your shortcodes into full text with the help of a friendly pufferfish!"
    />
    <title>PuffPuffPaste - Blow Up Your Words, expand your productivity!</title>

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="images/icon-16.png" />
    <link rel="icon" type="image/png" sizes="48x48" href="images/icon-48.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="128x128"
      href="images/icon-128.png"
    />
    <link rel="apple-touch-icon" href="images/icon-128.png" />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap"
    />
    <style>
      :root {
        --primary-blue: #0087d2;
        --light-blue: #7fd5ff;
        --pale-blue: #c0eaff;
        --background: #f8fcff;
        --card-bg: rgba(255, 255, 255, 0.6); /* More translucent */
        --card-border: rgba(255, 255, 255, 0.3);
        --text-dark: #1a365d;
        --text-light: #4a5568;
        --accent-coral: #ff6b47;
        --accent-yellow: #ffd93d;
        --accent-purple: #a855f7;
        --accent-pink: #ec4899;
        --accent-green: #10b981;
        --glow-blue: rgba(0, 135, 210, 0.6);
        --glow-coral: rgba(255, 107, 71, 0.4);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family:
          "Inter",
          -apple-system,
          BlinkMacSystemFont,
          sans-serif;
        background: var(--background);
        background-image:
          radial-gradient(
            circle at 20% 80%,
            rgba(127, 213, 255, 0.12) 0%,
            transparent 60%
          ),
          radial-gradient(
            circle at 80% 20%,
            rgba(192, 234, 255, 0.18) 0%,
            transparent 60%
          ),
          radial-gradient(
            circle at 40% 40%,
            rgba(255, 217, 61, 0.08) 0%,
            transparent 60%
          ),
          radial-gradient(
            circle at 60% 80%,
            rgba(168, 85, 247, 0.06) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 90% 60%,
            rgba(236, 72, 153, 0.04) 0%,
            transparent 50%
          );
        background-attachment: fixed;
        color: var(--text-dark);
        min-height: 100vh;
        overflow-x: hidden;
        scroll-behavior: smooth;
      }

      /* Floating bubbles animation */
      .bubbles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 5;
      }

      .bubble {
        position: absolute;
        border-radius: 50%;
        animation: float 15s infinite linear;
        border: 2px solid rgba(255, 255, 255, 0.3);
        box-shadow:
          0 0 20px rgba(127, 213, 255, 0.4),
          inset 0 0 20px rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(8px); /* Increased blur */
        cursor: pointer;
        transition: transform 0.3s ease;
        pointer-events: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        user-select: none;
        transform: translateY(100vh) scale(0);
        opacity: 0;
      }

      .bubble:hover {
        transform: scale(1.2);
        box-shadow:
          0 0 30px rgba(127, 213, 255, 0.6),
          inset 0 0 30px rgba(255, 255, 255, 0.2);
      }

      .bubble.popping {
        animation: pop 0.6s ease-out forwards;
      }

      @keyframes pop {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.5);
          opacity: 0.8;
        }
        70% {
          transform: scale(1.8);
          opacity: 0.4;
        }
        100% {
          transform: scale(0);
          opacity: 0;
        }
      }

      .bubble-text {
        color: white;
        font-weight: bold;
        font-size: 12px;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 80%;
        text-align: center;
      }

      .bubble:nth-child(1) {
        animation-delay: 0s;
        width: 40px;
        height: 40px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(127, 213, 255, 0.4),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(2) {
        animation-delay: 2s;
        width: 20px;
        height: 20px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(168, 85, 247, 0.3),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(3) {
        animation-delay: 4s;
        width: 60px;
        height: 60px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(127, 213, 255, 0.5),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(4) {
        animation-delay: 6s;
        width: 30px;
        height: 30px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 217, 61, 0.3),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(5) {
        animation-delay: 8s;
        width: 50px;
        height: 50px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(16, 185, 129, 0.3),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(6) {
        animation-delay: 10s;
        width: 25px;
        height: 25px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(236, 72, 153, 0.3),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(7) {
        animation-delay: 1s;
        width: 35px;
        height: 35px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(127, 213, 255, 0.3),
          rgba(192, 234, 255, 0.15)
        );
      }
      .bubble:nth-child(8) {
        animation-delay: 3s;
        width: 15px;
        height: 15px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 217, 61, 0.4),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(9) {
        animation-delay: 7s;
        width: 45px;
        height: 45px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(168, 85, 247, 0.25),
          rgba(192, 234, 255, 0.15)
        );
      }
      .bubble:nth-child(10) {
        animation-delay: 5s;
        width: 18px;
        height: 18px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(16, 185, 129, 0.4),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(11) {
        animation-delay: 11s;
        width: 55px;
        height: 55px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(127, 213, 255, 0.35),
          rgba(192, 234, 255, 0.18)
        );
      }
      .bubble:nth-child(12) {
        animation-delay: 9s;
        width: 22px;
        height: 22px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(236, 72, 153, 0.35),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(13) {
        animation-delay: 13s;
        width: 38px;
        height: 38px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 217, 61, 0.3),
          rgba(192, 234, 255, 0.15)
        );
      }
      .bubble:nth-child(14) {
        animation-delay: 2.5s;
        width: 12px;
        height: 12px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(168, 85, 247, 0.4),
          rgba(192, 234, 255, 0.25)
        );
      }
      .bubble:nth-child(15) {
        animation-delay: 14s;
        width: 42px;
        height: 42px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(16, 185, 129, 0.3),
          rgba(192, 234, 255, 0.18)
        );
      }
      .bubble:nth-child(16) {
        animation-delay: 8.5s;
        width: 28px;
        height: 28px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(127, 213, 255, 0.4),
          rgba(192, 234, 255, 0.2)
        );
      }
      .bubble:nth-child(17) {
        animation-delay: 12s;
        width: 16px;
        height: 16px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(236, 72, 153, 0.4),
          rgba(192, 234, 255, 0.25)
        );
      }
      .bubble:nth-child(18) {
        animation-delay: 15s;
        width: 65px;
        height: 65px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(127, 213, 255, 0.25),
          rgba(192, 234, 255, 0.12)
        );
      }

      @keyframes float {
        0% {
          transform: translateY(100vh) scale(0);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translateY(-100px) scale(1);
          opacity: 0;
        }
      }

      header {
        background: linear-gradient(
          135deg,
          var(--light-blue) 0%,
          var(--pale-blue) 30%,
          var(--primary-blue) 70%,
          var(--accent-purple) 100%
        );
        width: 100%;
        padding: 6rem 2rem 4rem 2rem;
        text-align: center;
        box-shadow:
          0 8px 32px rgba(0, 135, 210, 0.3),
          0 0 0 1px rgba(255, 255, 255, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
        position: relative;
        z-index: 0;
        overflow: visible;
      }

      header h1 {
        font-family: "Fredoka", sans-serif;
        font-size: clamp(2.5rem, 8vw, 4.5rem);
        font-weight: 700;
        margin: 0;
        color: transparent;
        background: linear-gradient(
          45deg,
          var(--accent-purple) 20%,
          var(--primary-blue) 40%,
          white 50%,
          var(--primary-blue) 60%,
          var(--accent-purple) 80%
        );
        background-size: 200% auto;
        background-clip: text;
        -webkit-background-clip: text;
        animation:
          bounce-in 1s ease-out,
          text-sheen 5s linear infinite;
        --mouse-x: 50%;
        --mouse-y: 50%;
      }

      header h1.kinetic-header {
        background-image: radial-gradient(
          circle at var(--mouse-x) var(--mouse-y),
          white 0%,
          var(--light-blue) 50%,
          var(--primary-blue) 90%,
          var(--accent-purple) 100%
        );
      }

      @keyframes text-sheen {
        to {
          background-position: 200% center;
        }
      }

      header p {
        font-size: clamp(1.1rem, 3vw, 1.4rem);
        margin-top: 1rem;
        color: rgba(255, 255, 255, 0.95);
        font-weight: 500;
        animation: fade-in-up 1s ease-out 0.3s both;
      }

      @keyframes bounce-in {
        0% {
          transform: scale(0.3) translateY(-50px);
          opacity: 0;
        }
        50% {
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          transform: scale(1) translateY(0);
          opacity: 1;
        }
      }

      @keyframes fade-in-up {
        0% {
          transform: translateY(30px);
          opacity: 0;
        }
        100% {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
        position: relative;
        z-index: 1;
      }

      .hero-section {
        text-align: center;
        padding: 4rem 0;
        position: relative;
      }

      .logo-container {
        position: relative;
        display: inline-block;
        margin-bottom: 3rem;
      }

      .logo-glow {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 300px;
        height: 300px;
        background: radial-gradient(
          circle,
          var(--glow-blue) 0%,
          transparent 70%
        );
        animation: pulse-glow 4s ease-in-out infinite;
        z-index: 1;
      }

      .hero-img {
        width: 250px;
        height: 250px;
        border-radius: 50%;
        background:
          linear-gradient(
            45deg,
            transparent 30%,
            rgba(255, 255, 255, 0.1) 50%,
            transparent 70%
          ),
          linear-gradient(
            135deg,
            var(--accent-yellow) 0%,
            var(--accent-coral) 50%,
            var(--accent-pink) 100%
          );
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        box-shadow:
          0 30px 60px rgba(255, 107, 71, 0.4),
          0 0 0 4px rgba(255, 255, 255, 0.1),
          inset 0 4px 20px rgba(255, 255, 255, 0.2);
        animation:
          float-gentle 6s ease-in-out infinite,
          rotate-subtle 20s linear infinite;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        position: relative;
        z-index: 2;
        cursor: pointer;
        overflow: hidden;
      }

      .hero-img img {
        width: 180px;
        height: 180px;
        object-fit: contain;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
        transition: transform 0.3s ease;
      }

      .hero-img:hover {
        transform: scale(1.15) rotate(5deg);
        box-shadow:
          0 40px 80px rgba(255, 107, 71, 0.6),
          0 0 0 6px rgba(255, 255, 255, 0.2),
          inset 0 4px 20px rgba(255, 255, 255, 0.3);
      }

      .hero-img:hover img {
        transform: scale(1.1);
      }

      .hero-img::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: rotate(45deg);
        animation: shimmer 3s ease-in-out infinite;
      }

      @keyframes pulse-glow {
        0%,
        100% {
          transform: translate(-50%, -50%) scale(1);
          opacity: 0.6;
        }
        50% {
          transform: translate(-50%, -50%) scale(1.1);
          opacity: 0.8;
        }
      }

      @keyframes rotate-subtle {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      @keyframes shimmer {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        50% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
        100% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
      }

      @keyframes float-gentle {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .features {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
        padding: 4rem 0;
        margin: 0 auto;
      }

      .feature-card {
        background: var(--card-bg);
        backdrop-filter: blur(20px); /* Enhanced glassmorphism */
        border-radius: 24px;
        padding: 3rem 2.5rem;
        box-shadow:
          0 10px 30px rgba(0, 0, 0, 0.08),
          0 0 0 1px rgba(255, 255, 255, 0.2),
          inset 0 1px 0 rgba(255, 255, 255, 0.3);
        text-align: center;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        border: 1px solid var(--card-border);
        position: relative;
        overflow: hidden;
        opacity: 0; /* For staggered animation */
        transform: translateY(40px); /* For staggered animation */
      }

      /* Holographic sheen effect */
      .feature-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: radial-gradient(
          circle at var(--mouse-x) var(--mouse-y),
          rgba(255, 255, 255, 0.2) 0%,
          rgba(255, 255, 255, 0) 20%
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .feature-card:hover::before {
        opacity: 1;
      }

      .feature-card:hover {
        transform: translateY(-15px) scale(1.03);
        box-shadow:
          0 25px 50px rgba(0, 135, 210, 0.2),
          0 0 0 2px rgba(255, 255, 255, 0.3),
          inset 0 1px 0 rgba(255, 255, 255, 0.4);
      }

      .feature-icon {
        font-size: 4rem;
        margin-bottom: 1.5rem;
        display: block;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
        transition: transform 0.3s ease;
      }

      .feature-card:hover .feature-icon {
        transform: scale(1.1) rotate(5deg);
      }

      .feature-card h3 {
        font-family: "Fredoka", sans-serif;
        margin: 0 0 1rem 0;
        font-size: 1.6rem;
        font-weight: 600;
        color: var(--text-dark);
      }

      .feature-card p {
        color: var(--text-light);
        line-height: 1.6;
        margin: 0;
      }

      .feature-card code {
        background: rgba(0, 135, 210, 0.1);
        color: var(--primary-blue);
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
        font-weight: 600;
      }

      .story {
        max-width: 800px;
        margin: 4rem auto;
        padding: 3rem;
        font-size: 1.2rem;
        line-height: 1.8;
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        border-radius: 24px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        border: 1px solid var(--card-border);
        position: relative;
      }

      .story::before {
        content: "";
        position: absolute;
        top: -25px;
        left: 3rem;
        width: 50px;
        height: 50px;
        background: url("images/icon-48.png") no-repeat center;
        background-size: contain;
        background-color: var(--background);
        border-radius: 50%;
        padding: 5px;
      }

      .story h2 {
        font-family: "Fredoka", sans-serif;
        font-size: 2.2rem;
        margin: 0 0 1.5rem 0;
        color: var(--text-dark);
        text-align: center;
      }

      .story p {
        margin-bottom: 1.5rem;
        color: var(--text-light);
      }

      .terms-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-top: 2rem;
      }

      .term-item {
        background: rgba(255, 255, 255, 0.7);
        border-radius: 16px;
        padding: 1.5rem;
        border: 1px solid rgba(0, 135, 210, 0.1);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .term-item:hover {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 12px 24px rgba(0, 135, 210, 0.15);
        border-color: var(--primary-blue);
      }

      .term-item h3 {
        font-family: "Fredoka", sans-serif;
        font-size: 1.1rem;
        font-weight: 600;
        margin: 0 0 0.75rem 0;
        color: var(--text-dark);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .term-item p {
        margin: 0 0 0.5rem 0;
        font-size: 0.95rem;
        line-height: 1.5;
      }

      .term-item ul {
        color: var(--text-light);
        font-size: 0.95rem;
      }

      .term-item li {
        margin-bottom: 0.25rem;
      }

      .cta-section {
        text-align: center;
        padding: 4rem 0;
      }

      .cta {
        display: inline-block;
        background: linear-gradient(
          135deg,
          var(--primary-blue),
          var(--light-blue)
        );
        color: white;
        padding: 1.5rem 3rem;
        border-radius: 50px;
        font-size: 1.3rem;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 10px 30px rgba(0, 135, 210, 0.4);
        position: relative;
        overflow: hidden;
      }

      .cta:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 15px 40px rgba(0, 135, 210, 0.6);
      }

      .cta:active {
        transform: translateY(-2px) scale(1.02);
      }

      footer {
        background: var(--text-dark);
        color: rgba(255, 255, 255, 0.8);
        text-align: center;
        padding: 2rem;
        margin-top: 4rem;
      }

      .scroll-indicator {
        position: fixed;
        top: 0;
        left: 0;
        height: 4px;
        background: linear-gradient(
          90deg,
          var(--primary-blue),
          var(--light-blue)
        );
        z-index: 1000;
        transition: width 0.1s ease;
      }

      /* Animations on scroll */
      .animate-on-scroll {
        opacity: 0;
        transform: translateY(30px);
      }

      .animate-on-scroll.animated {
        opacity: 1;
        transform: translateY(0);
      }

      /* Storytelling Section */
      .story-container {
        min-height: 300vh; /* Provides scroll space */
        position: relative;
      }
      .story-sticky-parent {
        height: 100vh;
        position: sticky;
        top: 0;
        overflow: hidden;
      }
      .story-sticky-child {
        position: relative;
        height: 100%;
        width: 100%;
      }
      #story-canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
      }
      .story-content {
        position: relative;
        z-index: 2;
        max-width: 600px;
        margin: 0 auto;
        padding: 0 1rem;
        height: 100%;
        display: flex;
        justify-content: center;
        flex-direction: column;
        color: var(--text-dark);
      }
      .story-chapter {
        position: absolute;
        width: 100%;
        max-width: 600px;
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
      }
      .story-chapter.active {
        opacity: 1;
      }

      /* Live Demo Editor */
      .live-demo-container {
        margin-top: 2rem;
        border-radius: 12px;
        padding: 1rem;
        background: #f0f4f8;
        border: 1px solid #e0e8f0;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
      }
      .live-demo-editor {
        min-height: 100px;
        width: 100%;
        padding: 1rem;
        border-radius: 8px;
        background: white;
        color: var(--text-dark);
        font-family: "Inter", sans-serif;
        font-size: 1.1rem;
        line-height: 1.6;
        outline: none;
        border: 1px solid #d1dce5;
        transition:
          border-color 0.3s,
          box-shadow 0.3s;
      }
      .live-demo-editor:focus {
        border-color: var(--primary-blue);
        box-shadow: 0 0 0 3px rgba(0, 135, 210, 0.2);
      }
      .live-demo-editor .expanded-snippet {
        color: var(--primary-blue);
        background: var(--pale-blue);
        padding: 0.1rem 0.3rem;
        border-radius: 4px;
        font-weight: 500;
      }

      @media (max-width: 768px) {
        .features {
          grid-template-columns: 1fr;
        }
      }

      /* Demo Display */
      .demo-display {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(26, 26, 26, 0.95);
        border-radius: 12px;
        padding: 24px;
        border: 2px solid rgba(127, 213, 255, 0.3);
        backdrop-filter: blur(15px);
        z-index: 1000;
        max-width: 600px;
        width: 90%;
        opacity: 0;
        pointer-events: none;
        transition: all 0.3s ease;
      }

      .demo-display.active {
        opacity: 1;
        pointer-events: auto;
      }

      .demo-text {
        font-family: "Courier New", "Monaco", "Menlo", monospace;
        font-size: 18px;
        line-height: 1.6;
        color: #10b981;
        min-height: 60px;
        padding: 16px;
        background: rgba(16, 185, 129, 0.1);
        border-radius: 8px;
        border: 1px solid rgba(16, 185, 129, 0.3);
        position: relative;
        overflow: hidden;
      }

      .demo-text::after {
        content: "█";
        color: #10b981;
        animation: blink 1s infinite;
        opacity: 0;
        position: absolute;
      }

      .demo-text.typing::after {
        opacity: 1;
      }

      @keyframes blink {
        0%,
        50% {
          opacity: 1;
        }
        51%,
        100% {
          opacity: 0;
        }
      }

      .trigger-display {
        color: #fbbf24;
        font-weight: bold;
        text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
      }

      .expansion-display {
        color: #10b981;
        font-weight: normal;
      }

      .demo-close {
        position: absolute;
        top: 10px;
        right: 15px;
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.7);
        font-size: 24px;
        cursor: pointer;
        padding: 0;
        line-height: 1;
      }

      .demo-close:hover {
        color: white;
      }
    </style>
  </head>
  <body>
    <!-- Floating bubbles background -->
    <div class="bubbles">
      <div
        class="bubble"
        data-trigger="/gb"
        data-expansion="Goodbye! Have a great day!"
      >
        <span class="bubble-text">/gb</span>
      </div>
      <div
        class="bubble"
        data-trigger=";brb"
        data-expansion="Be right back—just a sec!"
      >
        <span class="bubble-text">;brb</span>
      </div>
      <div class="bubble" data-trigger="ty" data-expansion="Thank you!">
        <span class="bubble-text">ty</span>
      </div>
      <div
        class="bubble"
        data-trigger="gg!"
        data-expansion="Good game! Well played!"
      >
        <span class="bubble-text">gg!</span>
      </div>
      <div class="bubble" data-trigger="/shrug" data-expansion="¯\_(ツ)_/¯">
        <span class="bubble-text">/shrug</span>
      </div>
      <div class="bubble" data-trigger=":smile:" data-expansion="😊">
        <span class="bubble-text">:smile:</span>
      </div>
      <div
        class="bubble"
        data-trigger="/sig"
        data-expansion="— Marvin C. Bentley II"
      >
        <span class="bubble-text">/sig</span>
      </div>
      <div
        class="bubble"
        data-trigger=";addr"
        data-expansion="907 Newfane Rd, Wardsboro VT 05355"
      >
        <span class="bubble-text">;addr</span>
      </div>
      <div class="bubble" data-trigger=";phone" data-expansion="(802) 555‑0123">
        <span class="bubble-text">;phone</span>
      </div>
      <div class="bubble" data-trigger=";gm" data-expansion="Good morning! ☀️">
        <span class="bubble-text">;gm</span>
      </div>
      <div class="bubble" data-trigger=";gn" data-expansion="Good night! 🌙">
        <span class="bubble-text">;gn</span>
      </div>
      <div
        class="bubble"
        data-trigger=";tyvm"
        data-expansion="Thank you very much!"
      >
        <span class="bubble-text">;tyvm</span>
      </div>
      <div
        class="bubble"
        data-trigger=";np"
        data-expansion="No problem at all!"
      >
        <span class="bubble-text">;np</span>
      </div>
      <div
        class="bubble"
        data-trigger="/help"
        data-expansion="How can I help you today?"
      >
        <span class="bubble-text">/help</span>
      </div>
      <div class="bubble" data-trigger=";woot" data-expansion="🎉 Woo‑hoo!">
        <span class="bubble-text">;woot</span>
      </div>
      <div
        class="bubble"
        data-trigger=";asap"
        data-expansion="As soon as possible, please."
      >
        <span class="bubble-text">;asap</span>
      </div>
      <div class="bubble" data-trigger=";cheers" data-expansion="Cheers! 🥂">
        <span class="bubble-text">;cheers</span>
      </div>
      <div class="bubble" data-trigger="/yeet" data-expansion="✨YEET!✨">
        <span class="bubble-text">/yeet</span>
      </div>
    </div>

    <!-- Demo Display -->
    <div class="demo-display" id="demoDisplay">
      <button class="demo-close" onclick="closeDemoDisplay()">&times;</button>
      <div class="demo-text" id="demoText"></div>
    </div>

    <!-- Scroll progress indicator -->
    <div class="scroll-indicator" id="scrollIndicator"></div>

    <header>
      <h1>PuffPuffPaste</h1>
      <p>Blow up your words, expand your productivity! 💨</p>
    </header>

    <div class="container">
      <section class="hero-section">
        <div class="logo-container">
          <div class="logo-glow"></div>
          <div class="hero-img">
            <img
              src="images/icon-128.png"
              alt="PuffPuff the pufferfish mascot. Click to pop all bubbles for this session."
              title="PuffPuff the pufferfish mascot. Click to pop all bubbles for this session."
            />
          </div>
        </div>
        <h2
          style="
            font-family: &quot;Fredoka&quot;, sans-serif;
            font-size: 2.5rem;
            margin: 0 0 1rem 0;
            color: var(--text-dark);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          "
        >
          Meet PuffPuff! 🌊
        </h2>
        <p
          style="
            font-size: 1.4rem;
            color: var(--text-light);
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
            font-weight: 500;
          "
        >
          Your new productivity companion who transforms tiny shortcuts into
          full text expansions with the magic of a friendly pufferfish.
        </p>
      </section>

      <section class="features animate-on-scroll">
        <div class="feature-card">
          <span class="feature-icon">✨</span>
          <h3>Dynamic & Rich Content</h3>
          <p>
            Go beyond plain text. Create snippets with rich formatting,
            <strong>HTML, and even images</strong>. Use dynamic variables like
            <code>{date}</code> or prompt for input like <code>{name}</code> to
            create powerful, interactive templates.
          </p>
        </div>
        <div class="feature-card">
          <span class="feature-icon">🧠</span>
          <h3>Intelligent Workflow</h3>
          <p>
            Works everywhere you do. If a trigger is ambiguous (e.g.,
            <code>;s</code> is a snippet, but also starts <code>;sig</code>), a
            simple UI appears <strong>only after you finish typing</strong>,
            letting you cycle through options with Tab. No interruptions.
          </p>
        </div>
        <div class="feature-card">
          <span class="feature-icon">📚</span>
          <h3>Versatile, Layered Snippets</h3>
          <p>
            Start with a private, top-priority snippet library. Then, layer on
            shared snippet collections for your
            <strong
              >family's recipes, a study group's notes, or a project's
              templates</strong
            >. Your personal snippets always take precedence.
          </p>
        </div>
        <div class="feature-card">
          <span class="feature-icon">🔒</span>
          <h3>Privacy First & Secure</h3>
          <p>
            Your data is yours. All expansions happen locally in your browser.
            Cloud sync is optional, secure, and always under your control. We
            never see or store your snippets.
          </p>
        </div>
      </section>

      <section id="story-container" class="story-container">
        <div class="story-sticky-parent">
          <div class="story-sticky-child">
            <div id="story-canvas"></div>
            <div class="story-content">
              <div class="story-chapter" id="chapter-1">
                <h2>The Tale of PuffPuff</h2>
                <p>
                  Once upon a tidepool, PuffPuff was just a small, shy
                  pufferfish living among coral keyboards and kelp cables.
                </p>
              </div>
              <div class="story-chapter" id="chapter-2">
                <p>
                  One day, while floating through a sea of sticky notes and lost
                  passwords, PuffPuff noticed how much time the other ocean
                  creatures were wasting typing the same things over and over.
                </p>
              </div>
              <div class="story-chapter" id="chapter-3">
                <p>
                  So PuffPuff came up with a clever trick: he'd take a short
                  code—just a puff of text—and blow it up into something big and
                  useful!
                </p>
              </div>
              <div class="story-chapter" id="chapter-4">
                <p>
                  Now, every time you expand a snippet, you're getting a little
                  help from the puffiest productivity pal on the planet. Ready
                  to join the underwater productivity revolution? 🌊
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="story animate-on-scroll">
        <h2>Try It Live!</h2>
        <p>
          No need to install anything just yet. See the magic for yourself right
          here. Type a trigger like <code>;gm</code> or <code>;sig</code> in the
          box below and watch it expand.
        </p>
        <div id="live-demo-container" class="live-demo-container">
          <div
            id="live-demo-editor"
            contenteditable="true"
            class="live-demo-editor"
          ></div>
        </div>
      </section>

      <section class="story animate-on-scroll">
        <h2>License and Usage</h2>
        <p>
          PuffPuffPaste is built on a foundation of trust and good faith. Our
          licensing model reflects this.
        </p>
        <div class="terms-grid">
          <div class="term-item">
            <h3>Personal Use</h3>
            <p>
              If you abide by the Good-Neighbor Covenant (see below), you are
              granted a <strong>free, perpetual license</strong> for personal,
              non-commercial use. Enjoy it, share it with friends, and make your
              digital life a little easier.
            </p>
          </div>
          <div class="term-item">
            <h3>Commercial Use</h3>
            <p>
              Use by any business, organization, or for any commercial purpose
              requires a commercial license. This allows us to keep supporting
              and developing the software. All commercial use is still subject
              to the Good-Neighbor Covenant.
            </p>
            <p>
              For licensing inquiries, please email us at: <br />
              <a href="mailto:puffpuffpaste@googlegroups.com"
                ><strong>puffpuffpaste@googlegroups.com</strong></a
              >
            </p>
            <p
              style="
                font-size: 0.9em;
                margin-top: 1rem;
                color: var(--text-light);
              "
            >
              Example pricing: $5/user/year for a team of 10, or $3/user/year
              for 1,000+ users.
            </p>
          </div>
        </div>
      </section>

      <section class="story animate-on-scroll">
        <h2>The Good‑Neighbor Covenant 🚀</h2>
        <p style="text-align: center; font-style: italic; margin-bottom: 2rem">
          By downloading, installing, or using PuffPuffPaste (the "Software"),
          you affirm, warrant, and certify that you enthusiastically agree to
          every clause below. This is the ethical foundation for all use.
          Violation or repudiation of any clause instantly terminates your
          license and obliges you to uninstall the Software.
        </p>

        <div class="terms-grid">
          <div class="term-item">
            <h3>🏰✂️ No Kings Clause</h3>
            <p>
              You reject authoritarianism, hereditary rule, and any
              concentration of unchecked power.
            </p>
          </div>

          <div class="term-item">
            <h3>⚖️ Equal‑Before‑the‑Law Clause</h3>
            <p>
              No person, corporation, or office‑holder is above the law; justice
              applies the same to all wallets and name‑plates.
            </p>
          </div>

          <div class="term-item">
            <h3>🛡️ Protect‑the‑Vulnerable Clause</h3>
            <p>
              You will never use the Software to exploit or harm children,
              marginalized communities, or anyone with less institutional power.
            </p>
          </div>

          <div class="term-item">
            <h3>🗳️ Democracy‑or‑Bust Clause</h3>
            <p>
              You affirm that free, fair elections and peaceful transfers of
              power are non‑negotiable cornerstones of legitimate government.
            </p>
          </div>

          <div class="term-item">
            <h3>🌍 Reality‑Matters Clause</h3>
            <p>
              Facts are a thing. You will not wield the Software to spread
              disinformation, medical falsehoods, or anti‑democratic conspiracy
              sludge.
            </p>
          </div>

          <div class="term-item">
            <h3>🔬 Science‑Is‑Real Clause</h3>
            <p>
              You accept the scientific method as the best tool we've got for
              figuring out how the universe works; vaccines save lives; climate
              change is real; gravity still pulls down.
            </p>
          </div>

          <div class="term-item">
            <h3>🧑‍🤝‍🧑 Every‑Human‑Heartbeat Clause</h3>
            <p>
              All humans — regardless of chromosomes, hormone levels, pronouns,
              pigmentation, or plus‑one at prom — possess equal dignity, rights,
              and humanity.
            </p>
            <p style="font-style: italic; font-size: 0.9em; margin-top: 0.5rem">
              (If you'd deny a neighbor a civil liberty they already have, you
              may not use this Software.)
            </p>
          </div>

          <div class="term-item">
            <h3>🚫🍌 Banana‑Republic Firewall</h3>
            <p>Use of the Software is automatically forbidden to anyone who:</p>
            <ul style="margin: 0.5rem 0; padding-left: 1.5rem">
              <li>Advocates political violence;</li>
              <li>Denies verified election results without evidence;</li>
              <li>
                Seeks to dismantle civil liberties or democratic institutions.
              </li>
            </ul>
          </div>

          <div class="term-item">
            <h3>📝 TL;DR</h3>
            <p>
              <strong>TL;DR:</strong> As long as you agree to be and remain a
              decent and reasonable person, you may use this software.
            </p>
          </div>

          <div class="term-item">
            <h3>🏞️ Good‑Faith Compliance</h3>
            <p>
              If you later discover you can't live up to these promises, you
              must delete the Software and, ideally, take a long walk to think
              about your life choices.
            </p>
          </div>
        </div>
      </section>

      <section class="story animate-on-scroll">
        <h2>Privacy Policy</h2>
        <p>
          PuffPuffPaste does not collect or store any of your personal
          information, period. All data used by the extension remains on your
          device or, if you choose to enable it, in your own cloud storage
          account (e.g., Google Drive). It is never shared with the developer or
          any third parties.
        </p>
      </section>

      <section class="cta-section animate-on-scroll">
        <a
          class="cta"
          href="https://github.com/truevox/text-exp"
          target="_blank"
          >🚀 Add to Chrome — It's Free!</a
        >
        <p style="margin-top: 1rem; color: var(--text-light)">
          Join other users saving hours every day
        </p>
      </section>
    </div>

    <footer>
      <p>&copy; 2025 PuffPuffPaste. Built with love and bubbles. 🫧</p>
      <p style="font-size: 0.9rem; opacity: 0.7; margin-top: 0.5rem">
        Made by developers, for developers (and everyone who types too much)
      </p>
    </footer>

    <script>
      // --- Bubble Spawning & Toggle Logic ---
      document.addEventListener("DOMContentLoaded", () => {
        const bubblesContainer = document.querySelector(".bubbles");
        const heroImg = document.querySelector(".hero-img");

        function initializeBubbles() {
          if (!bubblesContainer) return;

          bubblesContainer.style.display = ""; // Make sure it's visible

          const bubbles = document.querySelectorAll(".bubble");
          bubbles.forEach((bubble) => {
            bubble.classList.remove("popping");

            let randomLeft;
            if (Math.random() > 0.5) {
              randomLeft = Math.random() * 25;
            } else {
              randomLeft = 75 + Math.random() * 25;
            }
            bubble.style.left = `${randomLeft}%`;
          });
        }

        function disableBubbles() {
          if (!bubblesContainer) return;

          sessionStorage.setItem("bubblesDisabled", "true");
          const activeBubbles = document.querySelectorAll(".bubble");
          activeBubbles.forEach((bubble) => {
            bubble.classList.add("popping");
          });

          setTimeout(() => {
            bubblesContainer.style.display = "none";
          }, 1000);
        }

        function enableBubbles() {
          sessionStorage.removeItem("bubblesDisabled");
          initializeBubbles();
        }

        // Initial check on page load
        if (sessionStorage.getItem("bubblesDisabled")) {
          if (bubblesContainer) bubblesContainer.style.display = "none";
        } else {
          initializeBubbles();
        }

        // Add click listener to the hero image to toggle bubbles
        heroImg.addEventListener("click", () => {
          if (sessionStorage.getItem("bubblesDisabled")) {
            enableBubbles();
          } else {
            disableBubbles();
          }
        });
      });

      // --- Kinetic Header & Holographic Card Logic ---
      const kineticHeader = document.querySelector(".kinetic-header");
      if (kineticHeader) {
        document.body.addEventListener("mousemove", (e) => {
          const { clientX, clientY } = e;
          const { offsetWidth, offsetHeight } = document.body;
          const x = (clientX / offsetWidth) * 100;
          const y = (clientY / offsetHeight) * 100;
          kineticHeader.style.setProperty("--mouse-x", `${x}%`);
          kineticHeader.style.setProperty("--mouse-y", `${y}%`);
        });
      }

      const cards = document.querySelectorAll(".feature-card");
      cards.forEach((card) => {
        card.addEventListener("mousemove", (e) => {
          const rect = card.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          card.style.setProperty("--mouse-x", `${x}px`);
          card.style.setProperty("--mouse-y", `${y}px`);
        });
      });

      // --- Staggered Animation on Scroll ---
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach((entry, index) => {
          if (entry.isIntersecting) {
            // Apply staggered delay
            const delay = index * 100; // 100ms delay between each card
            entry.target.style.transition = `all 0.6s ${delay}ms cubic-bezier(0.34, 1.56, 0.64, 1)`;
            entry.target.classList.add("animated");
            observer.unobserve(entry.target); // Stop observing after animation
          }
        });
      }, observerOptions);

      document.querySelectorAll(".feature-card, .story").forEach((el) => {
        observer.observe(el);
      });

      // Scroll progress indicator
      window.addEventListener("scroll", () => {
        const scrolled =
          (window.scrollY /
            (document.documentElement.scrollHeight - window.innerHeight)) *
          100;
        document.getElementById("scrollIndicator").style.width = scrolled + "%";
      });

      // --- Scroll-driven Storytelling with Three.js ---
      const storyContainer = document.getElementById("story-container");
      if (storyContainer) {
        let scene, camera, renderer, puffPuff;

        function initStoryCanvas() {
          const canvasContainer = document.getElementById("story-canvas");
          scene = new THREE.Scene();
          camera = new THREE.PerspectiveCamera(
            75,
            canvasContainer.offsetWidth / canvasContainer.offsetHeight,
            0.1,
            1000,
          );
          renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
          renderer.setSize(
            canvasContainer.offsetWidth,
            canvasContainer.offsetHeight,
          );
          canvasContainer.appendChild(renderer.domElement);

          // Simple Pufferfish model
          const geometry = new THREE.SphereGeometry(1, 32, 32);
          const material = new THREE.MeshStandardMaterial({
            color: 0xffd93d,
            roughness: 0.5,
            metalness: 0.1,
          });
          puffPuff = new THREE.Mesh(geometry, material);
          scene.add(puffPuff);

          const light = new THREE.DirectionalLight(0xffffff, 1);
          light.position.set(5, 5, 5);
          scene.add(light);

          const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
          scene.add(ambientLight);

          camera.position.z = 5;

          animate();
        }

        function animate() {
          requestAnimationFrame(animate);
          puffPuff.rotation.y += 0.005;
          renderer.render(scene, camera);
        }

        function handleScroll() {
          const scrollY = window.scrollY;
          const containerTop = storyContainer.offsetTop;
          const containerHeight = storyContainer.offsetHeight;
          const scrollPercent =
            (scrollY - containerTop) / (containerHeight - window.innerHeight);

          if (scrollPercent >= 0 && scrollPercent <= 1) {
            // Animate puffPuff based on scroll
            puffPuff.position.y = -scrollPercent * 5;
            puffPuff.scale.set(
              1 + scrollPercent,
              1 + scrollPercent,
              1 + scrollPercent,
            );

            // Chapter visibility
            const chapters = document.querySelectorAll(".story-chapter");
            const chapterCount = chapters.length;
            const chapterIndex = Math.min(
              chapterCount - 1,
              Math.floor(scrollPercent * chapterCount),
            );

            chapters.forEach((chapter, index) => {
              if (index === chapterIndex) {
                chapter.classList.add("active");
              } else {
                chapter.classList.remove("active");
              }
            });
          }
        }

        // Lazy load Three.js and initialize
        const threeScript = document.createElement("script");
        threeScript.src =
          "https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js";
        threeScript.onload = () => {
          initStoryCanvas();
          window.addEventListener("scroll", handleScroll);
        };
        document.body.appendChild(threeScript);
      }

      // --- Live Snippet Demo ---
      const liveDemoEditor = document.getElementById("live-demo-editor");
      if (liveDemoEditor) {
        const snippets = {
          ";gm": "Good morning! ☀️",
          ";sig": "— Marvin C. Bentley II",
          ty: "Thank you!",
          "/shrug": "¯\_(ツ)_/¯",
        };
        liveDemoEditor.addEventListener("input", (e) => {
          const text = liveDemoEditor.innerText;
          for (const trigger in snippets) {
            if (text.endsWith(trigger)) {
              const expansion = snippets[trigger];
              // Replace the trigger with the expansion
              document.execCommand("delete", false, trigger.length);
              document.execCommand(
                "insertHTML",
                false,
                `<span class="expanded-snippet">${expansion}</span>&nbsp;`,
              );

              // Move cursor to the end
              const selection = window.getSelection();
              const range = document.createRange();
              selection.removeAllRanges();
              range.selectNodeContents(liveDemoEditor);
              range.collapse(false);
              selection.addRange(range);
              liveDemoEditor.focus();
              break; // Exit after first match
            }
          }
        });
      }

      // Bubble click functionality
      let isAnimating = false;
      const demoDisplay = document.getElementById("demoDisplay");
      const demoText = document.getElementById("demoText");

      document.querySelectorAll(".bubble").forEach((bubble) => {
        bubble.addEventListener("click", handleBubbleClick);
      });

      async function handleBubbleClick(event) {
        if (isAnimating) return;

        const bubble = event.currentTarget;
        const trigger = bubble.dataset.trigger;
        const expansion = bubble.dataset.expansion;

        if (!trigger || !expansion) return;

        isAnimating = true;
        demoDisplay.classList.add("active");
        bubble.classList.add("popping");
        demoText.textContent = "";
        demoText.classList.remove("typing");

        await typeText(trigger, "trigger-display");
        await delay(500);

        demoText.textContent = "";
        await typeText(expansion, "expansion-display");

        setTimeout(() => {
          bubble.classList.remove("popping");
          isAnimating = false;
        }, 1000);
      }

      async function typeText(text, className) {
        demoText.className = `demo-text typing ${className}`;
        return new Promise((resolve) => {
          let index = 0;
          const typeChar = () => {
            if (index < text.length) {
              demoText.textContent += text[index];
              index++;
              setTimeout(typeChar, 50 + Math.random() * 50);
            } else {
              demoText.classList.remove("typing");
              resolve();
            }
          };
          typeChar();
        });
      }

      function delay(ms) {
        return new Promise((resolve) => setTimeout(resolve, ms));
      }

      function closeDemoDisplay() {
        demoDisplay.classList.remove("active");
        demoText.textContent = "";
        demoText.classList.remove("typing");
        isAnimating = false;
      }

      demoDisplay.addEventListener("click", (e) => {
        if (e.target === demoDisplay) closeDemoDisplay();
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && demoDisplay.classList.contains("active")) {
          closeDemoDisplay();
        }
      });
    </script>
  </body>
</html>
